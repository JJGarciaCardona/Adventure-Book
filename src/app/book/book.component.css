/* Contenedor para el libro y los botones */
.book-container {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex; /* Re-añadido para centrar */
  align-items: center; /* Re-añadido para centrar */
  justify-content: center; /* Re-añadido para centrar */
}

/* Botones de navegación */
.nav-button {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 6rem; /* Aumentado el tamaño */
  height: 6rem; /* Aumentado el tamaño */
  background-color: #36354e;
  border: none;
  border-radius: 50%;
  color: white;
  font-size: 2rem; /* Aumentado el tamaño de la flecha */
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 1000;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  transition: transform 0.2s, background-color 0.2s, opacity 0.2s;
  opacity: 0.3; /* Cambiada la opacidad a 50% */
}

.nav-button.prev-button {
  left: 5%;
}

.nav-button.next-button {
  right: 5%;
}

.nav-button:hover {
  transform: translateY(-50%) scale(1.1); /* Ajustado para mantener la posición vertical */
}

.nav-button:active {
  transform: translateY(-50%) scale(0.95); /* Ajustado para mantener la posición vertical */
}

.arrow {
  display: inline-block;
}

/* Estilos del libro */
.book {
  position: relative;
  width: 30rem;
  height: 28.5rem;
  perspective: 100rem;
  transform: translateX(-1rem); /* Mueve el libro un poco a la izquierda */
  /* Eliminamos margin-left para que flexbox lo centre */
}

.cover {
  background-color: #36354e;
  transform: rotateY(0deg);
  width: 15rem;
  height: 28.5rem;  /* Reducida un 5%: de 30rem a 28.5rem */
  right: 0;
  left: auto;
}

.page {
  top: 0.3rem;
  left: auto;
  right: -0.3rem;
  background-color: #e9e6c4;
  transform: rotateY(0deg);
  width: 14.7rem;
  height: 27.84rem;  /* Reducida un 5%: de 29.3rem a 27.84rem */
  text-align: right;
  font-size: 12px;
  color: #777;
  font-family: monospace;
}

.page::before,
.page::after {
  display: block;
  border-top: 1px dashed rgba(0, 0, 0, 0.3);
  content: "";
  padding-bottom: 1rem;
}

.cover,
.page {
  position: absolute;
  padding: 1rem;
  transform-origin: left center;
  border-radius: 0 5px 5px 0;
  box-shadow: inset -3px 0px 20px rgba(0, 0, 0, 0.2),
    0px 0px 15px rgba(0, 0, 0, 0.1);
  box-sizing: border-box;
}

/* Animaciones básicas para cover y page con clase turn */
.cover.turn {
  animation: bookCover 3s forwards;
}

.page.turn {
  animation: bookOpen 3s forwards;
}

/* Animaciones para cerrar */
.cover.close {
  animation: bookCoverClose 3s forwards;
}

.page.close {
  animation: bookClose 3s forwards;
}

/* Reemplazar los selectores nth-of-type con selectores que incluyan la clase turn */
.page.turn:nth-of-type(1) {
  animation-delay: 0.05s;
}

.page.turn:nth-of-type(2) {
  animation-delay: 0.33s
}

.page.turn:nth-of-type(3) {
  animation-delay: 0.66s;
}

.page.turn:nth-of-type(4) {
  animation: bookOpen150deg 3s forwards;
  animation-delay: 0.99s;
}

.page.turn:nth-of-type(5) {
  animation: bookOpen30deg 3s forwards;
  animation-delay: 1.2s;
}

.page.turn:nth-of-type(6) {
  animation: bookOpen55deg 3s forwards;
  animation-delay: 1.25s;
}

@keyframes bookOpen {
  30% {
    z-index: 999
  }

  100% {
    transform: rotateY(-180deg);
    z-index: 999;
  }
}

@keyframes bookClose {
  0% {
    transform: rotateY(-180deg);
    z-index: 990; /* Ligeramente inferior a la cubierta */
  }
  70% {
    z-index: 990;
  }
  100% {
    transform: rotateY(0deg);
    z-index: 1;
  }
}

@keyframes bookCover {
  30% {
    z-index: 999
  }

  100% {
    transform: rotateY(-180deg);
    z-index: 1;
  }
}

@keyframes bookCoverClose {
  0% {
    transform: rotateY(-180deg);
    z-index: 999; /* Siempre por encima de la página que se cierra */
  }
  100% {
    transform: rotateY(0deg);
    z-index: 999;
  }
}

@keyframes bookOpen150deg {
  30% {
    z-index: 999
  }

  100% {
    transform: rotateY(-150deg);
    z-index: 999;
  }
}

@keyframes bookOpen55deg {
  30% {
    z-index: 999
  }

  100% {
    transform: rotateY(-55deg);
    z-index: 999;
  }
}

@keyframes bookOpen30deg {
  50% {
    z-index: 999
  }

  100% {
    transform: rotateY(-30deg);
    z-index: 999;
  }
}

/* Responsive adjustments - heights reduced by 5% */
/* Small phones */
@media (max-width: 480px) {
  .book {
    width: 22rem;
    height: 20.52rem;  /* Reducida un 5%: de 21.6rem a 20.52rem */
    margin-left: calc(50% - 11rem);
    perspective: 70rem;
  }

  .cover {
    width: 11rem;
    height: 20.52rem;  /* Reducida un 5%: de 21.6rem a 20.52rem */
  }

  .page {
    width: 10.7rem;
    height: 19.95rem;  /* Reducida un 5%: de 21rem a 19.95rem */
    font-size: 8px;
  }
}

/* Medium devices (tablets, 768px and up) */
@media (min-width: 481px) and (max-width: 767px) {
  .book {
    width: 26rem;
    height: 25.08rem;  /* Reducida un 5%: de 26.4rem a 25.08rem */
    margin-left: calc(50% - 13rem);
    perspective: 85rem;
  }

  .cover {
    width: 13rem;
    height: 25.08rem;  /* Reducida un 5%: de 26.4rem a 25.08rem */
  }

  .page {
    width: 12.7rem;
    height: 24.51rem;  /* Reducida un 5%: de 25.8rem a 24.51rem */
    font-size: 10px;
  }
}

/* Landscape orientation adjustments */
@media (max-height: 500px) and (orientation: landscape) {
  .book {
    width: 22rem;
    height: 18.24rem;  /* Reducida un 5%: de 19.2rem a 18.24rem */
    margin-left: calc(50% - 11rem);
    perspective: 70rem;
  }

  .cover {
    width: 11rem;
    height: 18.24rem;  /* Reducida un 5%: de 19.2rem a 18.24rem */
  }

  .page {
    width: 10.7rem;
    height: 17.67rem;  /* Reducida un 5%: de 18.6rem a 17.67rem */
    font-size: 8px;
  }
}

/* For very small screens */
@media (max-width: 360px) {
  .book {
    width: 20rem;
    height: 18.81rem;  /* Reducida un 5%: de 19.8rem a 18.81rem */
    margin-left: calc(50% - 10rem);
    perspective: 65rem;
  }

  .cover {
    width: 10rem;
    height: 18.81rem;  /* Reducida un 5%: de 19.8rem a 18.81rem */
  }

  .page {
    width: 9.7rem;
    height: 18.24rem;  /* Reducida un 5%: de 19.2rem a 18.24rem */
    font-size: 7px;
  }
}

/* For large screens */
@media (min-width: 1200px) {
  .book {
    width: 36rem;
    height: 34.2rem;  /* Reducida un 5%: de 36rem a 34.2rem */
    margin-left: calc(50% - 18rem);
    perspective: 120rem;
  }

  .cover {
    width: 18rem;
    height: 34.2rem;  /* Reducida un 5%: de 36rem a 34.2rem */
  }

  .page {
    width: 17.7rem;
    height: 33.63rem;  /* Reducida un 5%: de 35.4rem a 33.63rem */
    font-size: 14px;
  }
}

/* For extra large screens */
@media (min-width: 1600px) {
  .book {
    width: 44rem;
    height: 43.32rem;  /* Reducida un 5%: de 45.6rem a 43.32rem */
    margin-left: calc(50% - 22rem);
    perspective: 150rem;
  }

  .cover {
    width: 22rem;
    height: 43.32rem;  /* Reducida un 5%: de 45.6rem a 43.32rem */
  }

  .page {
    width: 21.7rem;
    height: 42.75rem;  /* Reducida un 5%: de 45rem a 42.75rem */
    font-size: 16px;
  }
}

/* Media queries para responsividad */
@media (max-width: 768px) {
  .nav-button {
    width: 2.5rem;
    height: 2.5rem;
    font-size: 1.2rem;
    margin: 0 1rem;
  }
}

@media (max-width: 480px) {
  .nav-button {
    width: 2rem;
    height: 2rem;
    font-size: 1rem;
    margin: 0 0.5rem;
  }
}
